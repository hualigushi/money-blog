# V8 底层

## V8 运行环境
因为 V8 并不是一个完整的系统，所以宿主和 V8 共用同一套内存空间，在执行时，它要依赖于由宿主提供的基础环境(类似于寄生关系)，大致包含了我们熟悉的全局执行上下文、事件循环系统、堆栈空间、宿主环境特殊定制的 API等。除了需要宿主提供的一些基础环境之外，V8 自身会使用创建好的堆和栈并提供 JavaScript 的核心功能(Object、Function、String)以及垃圾回收(GC)。
流程： 宿主启动主进程(浏览器渲染进程、node 进程) -> 宿主初始化并启动 V8
## V8 执行代码
![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ded4af9433045fe9463b983c5f71c7b~tplv-k3u1fbpfcp-watermark.image)
解释执行：需要先将输入的源代码通过解析器编译成中间代码，之后直接使用解释器解释执行中间代码，然后直接输出结果。

代码 → 解析器转码中间代码AST → 解释器 -> 执行


# 函数
