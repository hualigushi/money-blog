key的作用就是**更新组件**时**判断两个节点是否相同**。相同就复用，不相同就删除旧的创建新的。

key 值是用来判断 DOM 元素的唯一依据。

当尝试向列表中添加、删除一项数据的时候,如果 key 值和之前的相同，React 会假设这是同一个组件。



key不写与使用数组下标作用一致。都是采默认使用“就地更新”的策略。**但不写key会报警告**。



我们先点击添加按钮，在文本框中输入一些测试值。然后再点击一次添加按钮，在列表顶部添加一个空的文本框，这时候你就会发现问题所在了。 由于我们错误的使用 index 作为 key 值，React 在渲染 list 列表时，会假定 key = 0 就是我们之前添加的第一个文本框，于是错误的将第一次输入的内容渲染到了我们新添加的文本框上。

![](https://upload-images.jianshu.io/upload_images/1634005-d62997884bc024d1.png?imageMogr2/auto-orient/strip|imageView2/2/w/1010/format/webp)

例外
虽然不建议，但是在以下场景中可以使用 index 作为 key 值

1. 列表和项目时静态的，不会进行计算也不会背改变
2. 列表中的项目没有ID
3. 列表永远不会被重新排序或过滤

当符合这三个条件时，可以使用 index 作为 key 值





